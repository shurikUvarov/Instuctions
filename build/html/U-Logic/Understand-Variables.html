

<!DOCTYPE html>
<html class="writer-html5" lang="ru" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Понимание переменных Node, Flow, Global и Environment в U-Logic &mdash; документация База знаний 1.0.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=e35015f7"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=cd1d70c9"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            База знаний
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" aria-label="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Начало работы с контроллером Uvatron 3000PRO</a></li>
<li class="toctree-l1"><a class="reference internal" href="U-Logic.html">U-Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UI-Designer.html">UI-Designer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UI-Panel.html">UI-Panel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Часто задаваемые вопросы</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">База знаний</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Понимание переменных Node, Flow, Global и Environment в U-Logic</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="node-flow-global-environment-u-logic">
<h1>Понимание переменных Node, Flow, Global и Environment в U-Logic<a class="headerlink" href="#node-flow-global-environment-u-logic" title="Ссылка на этот заголовок"></a></h1>
<p>U-Logic очень прост и не требует особых знаний в области кодирования. Несмотря на то, что U-Logic прост, некоторые термины, такие как global, flow и enviroment переменные, могут показаться на первый взгляд загадочными. Это руководство подробно рассмотрит переменные U-Logic, стремясь углубить ваши познания и при этом минимизировать усилия, необходимые для сбора информации.</p>
<section id="u-logic">
<h2>Понимание переменных U-Logic<a class="headerlink" href="#u-logic" title="Ссылка на этот заголовок"></a></h2>
<p>Переменные являются важной частью U-Logic. Они бывают разных типов, например, сообщения, контекста и переменные среды. Переменные контекста сообщений связаны с отдельными сообщениями по мере их перемещения по потоку. Переменные контекста используются для отслеживания состояния приложения, которое включает переменные узла, потока и глобальные переменные. С другой стороны, переменные среды хранят конфиденциальную информацию о конфигурации, например ключи API, предотвращая случайное раскрытие этих данных в потоке.</p>
</section>
<section id="id1">
<h2>Изучение глобальных переменных<a class="headerlink" href="#id1" title="Ссылка на этот заголовок"></a></h2>
<p>Глобальные (global) переменные в U-Logic доступны для функционирования, изменения, внедрения и переключения узлов в пределах данного экземпляра U-Logic. Они служат централизованной точкой хранения данных, к которым необходимо получить доступ из разных частей приложения. Это особенно полезно, когда вы хотите совместно использовать данные в нескольких потоках или вкладках в пределах одного экземпляра U-Logic.</p>
<p>Например, в системе домашней автоматизации с потоками для освещения, безопасности и климат-контроля глобальные переменные могут хранить пользовательские настройки или системные настройки, к которым все потоки могут получить доступ и которые могут обновлять. Это обеспечивает единообразное поведение во всей системе.</p>
<section id="id2">
<h3>Инициирование/установка глобальной переменной<a class="headerlink" href="#id2" title="Ссылка на этот заголовок"></a></h3>
<p>Мы можем задать глобальные переменные с помощью узлов function и change.</p>
<p>В узле change вы можете установить его, как показано на рисунке ниже.</p>
<p><img alt="Set global variable" src="../_images/global_var_set.png" /></p>
<p>Чтобы инициировать переменную потока в узле function, вам придется использовать метод <code class="docutils literal notranslate"><span class="pre">set</span></code>, как показано ниже в узле function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">global</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>Извлечение глобальной переменной<a class="headerlink" href="#id3" title="Ссылка на этот заголовок"></a></h3>
<p>Извлечение глобальных переменных с использованием узлов change, inject и switch довольно похоже. Вам просто нужно выбрать опцию «global» и ввести имя переменной в поле ввода. Ниже приведено изображение, показывающее, как можно извлечь глобальные переменные с помощью узла change:</p>
<p><img alt="Get global variable" src="../_images/gloval_var_return.png" /></p>
<p>Чтобы получить глобальную переменную с помощью узла function, используйте метод <code class="docutils literal notranslate"><span class="pre">get</span></code>, как показано ниже:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">global</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id4">
<h3>Удаление глобальных переменных<a class="headerlink" href="#id4" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы удалить глобальные переменные, вы можете использовать как вкладку «Контекстные данные», так и узел change. Ниже показано, как можно удалить глобальные переменные с помощью узла change:</p>
<p><img alt="Delete global variable" src="../_images/global_var_delete.png" /></p>
</section>
</section>
<section id="id5">
<h2>Изучение переменных потока<a class="headerlink" href="#id5" title="Ссылка на этот заголовок"></a></h2>
<p>Переменные потока (flow) доступны для узлов function, change, inject и switch. Это полезно для обмена данными в пределах определенного потока или вкладки, что позволяет осуществлять бесперебойную передачу данных между узлами в пределах одного потока.</p>
<p>Например, в системе мониторинга температуры у вас есть несколько датчиков, отправляющих данные на разные узлы в одном потоке. Вы можете использовать переменные потока для передачи текущих показаний температуры между узлами для обработки и анализа в этом конкретном потоке.</p>
<section id="id6">
<h3>Инициирование/установка переменной потока<a class="headerlink" href="#id6" title="Ссылка на этот заголовок"></a></h3>
<p>Мы можем задать переменные потока, используя узлы function и change.</p>
<p>В узле change вы можете установить его, как показано ниже.</p>
<p><img alt="Set flow variable" src="../_images/flow_var_set.png" /></p>
<p>Чтобы инициировать переменную flow с помощью узла function, вам придется использовать метод <code class="docutils literal notranslate"><span class="pre">set</span></code>, как показано ниже в узле function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">flow</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id7">
<h3>Извлечение переменной потока<a class="headerlink" href="#id7" title="Ссылка на этот заголовок"></a></h3>
<p>Вы можете извлекать переменные потока, используя узлы function, change, inject и switch.</p>
<p>Извлечение переменных потока с использованием узлов изменения, инъекции и переключения довольно похоже. Вам просто нужно выбрать опцию «поток» и ввести имя переменной в поле ввода. Ниже представлено изображение, показывающее, как можно извлечь переменные потока с помощью узла изменения.</p>
<p><img alt="Get flow variable" src="../_images/flow_var_get.png" /></p>
<p>Чтобы получить переменную потока, с помощью узла function используйте метод <code class="docutils literal notranslate"><span class="pre">get</span></code> как показано ниже:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">flow</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>Удаление переменных потока<a class="headerlink" href="#id8" title="Ссылка на этот заголовок"></a></h3>
<p>Для удаления переменных потока можно использовать как вкладку «Контекстные данные», так и узел change. Ниже показано, как можно удалить переменные потока с помощью узла change:</p>
<p><img alt="Delete flow variable" src="../_images/flow_var_delete.png" /></p>
</section>
</section>
<section id="id9">
<h2>Изучение переменных узла<a class="headerlink" href="#id9" title="Ссылка на этот заголовок"></a></h2>
<p>Переменные узлов (node) специфичны для каждого узла и видны только внутри этого узла. Это означает, что мы не можем читать или записывать в эту переменную извне узла, где она инициализируется. Это идеально подходит для случаев, когда вы хотите хранить данные, специфичные для одного узла, чтобы обеспечить изоляцию данных и предотвратить помехи с другими узлами</p>
<p>Например, вы хотите вставить отправленные данные в базу данных вместе с уникальным идентификатором для каждой отправки. Вы можете использовать переменную узла для хранения и отслеживания переменной счетчика в узле function.</p>
<section id="id10">
<h3>Инициирование/установка переменной узла<a class="headerlink" href="#id10" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы инициировать и задать переменную узла с помощью узла function, вам придется использовать метод <code class="docutils literal notranslate"><span class="pre">set</span></code> как показано ниже:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">context</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">);</span>
</pre></div>
</div>
<p>Это действие устанавливает значение для контекстной переменной с указанным именем.</p>
</section>
<section id="id11">
<h3>Извлечение переменной узла<a class="headerlink" href="#id11" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы получить переменную узла с помощью узла функции, используйте метод <code class="docutils literal notranslate"><span class="pre">get</span></code> как показано ниже:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">context</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>Удаление переменных узла<a class="headerlink" href="#id12" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы удалить переменную узла, вам нужно будет использовать опцию удаления на вкладке «Контекстные данные» в разделе «Узловой»</p>
</section>
</section>
<section id="id13">
<h2>Изучение переменных окружающей среды<a class="headerlink" href="#id13" title="Ссылка на этот заголовок"></a></h2>
<p>Переменные среды (enviroment) специально используются для хранения конфиденциальных данных конфигурации, таких как ключи API или учетные данные базы данных, гарантируя, что эта информация не будет напрямую раскрыта в ваших потоках. В U-Logic вы можете устанавливать переменные среды на уровне потока и на глобальном уровне.</p>
<ul class="simple">
<li><p>Среда уровня потока: используется для хранения конфиденциальных данных конфигурации, доступных только в пределах определенного потока. Это обеспечивает безопасное и изолированное хранение конфиденциальной информации. Например, при создании многопоточного приложения U-Logic каждому потоку могут потребоваться разные детали конфигурации, такие как ключи API или уникальные идентификаторы. Использование переменных среды уровня потока позволяет каждому потоку безопасно хранить свои конкретные конфиденциальные данные, не подвергая их воздействию других потоков.</p></li>
<li><p>Среда глобального уровня: переменные используются для хранения конфиденциальных данных, доступных во всех потоках в экземпляре U-Logic. Они полезны, когда вам нужно поделиться одними и теми же конфиденциальными данными в разных потоках. Например, если нескольким потокам необходимо использовать один и тот же ключ API, установка переменной среды глобального уровня позволяет им безопасно получать доступ к этим данным, избегая повторных конфигураций и обеспечивая согласованность.</p></li>
</ul>
<section id="id14">
<h3>Установка переменных среды<a class="headerlink" href="#id14" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы задать переменные среды уровня потока, вам придется использовать диалоговое окно редактирования потока.</p>
<p><img alt="Set enviroment variable" src="../_images/env_var_set.png" /></p>
</section>
<section id="id15">
<h3>Доступ к переменным среды<a class="headerlink" href="#id15" title="Ссылка на этот заголовок"></a></h3>
<p>Доступ к переменным среды в узлах change, inject и switch можно получить, выбрав опцию «$ переменная среды» и введя имя переменной в поле ввода. Вот пример доступа к переменной среды с помощью узла change:</p>
<p><img alt="Get enviroment variable" src="../_images/env_var_get.png" /></p>
<p>Чтобы получить доступ к переменным среды в узле function, используйте:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">env</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;variableName&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>В узле template вы можете получить к нему доступ следующим образом:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">This</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">my</span><span class="w"> </span><span class="nx">username</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{{</span><span class="nx">env</span><span class="p">.</span><span class="nx">USERNAME</span><span class="p">}}.</span>
</pre></div>
</div>
<p>А если вам необходимо получить доступ к переменным среды в сторонних узлах конфигурации, где не предусмотрена возможность использования переменных среды, вы можете получить к ним доступ с помощью ${variableName}поля ввода узла.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Если у вас есть переменные с одинаковыми именами, доступ к ним будет иметь приоритет над переменной уровня потока выше, чем по сравнению с переменной глобального уровня. Чтобы получить доступ к переменной среды глобального уровня в этом сценарии, вам нужно добавить префикс к имени переменной с помощью „$parent“</p>
</div>
</section>
<section id="id16">
<h3>Удаление переменных среды<a class="headerlink" href="#id16" title="Ссылка на этот заголовок"></a></h3>
<p>Чтобы удалить добавленные переменные среды, вы можете использовать тот же интерфейс, в котором они были добавлены. В правом углу добавленной переменной среды вы увидите крестик. Просто щелкните по нему, чтобы удалить переменную и перезапустить экземпляр U-Logic.</p>
</section>
</section>
<section id="id17">
<h2>Вкладка «контекст»<a class="headerlink" href="#id17" title="Ссылка на этот заголовок"></a></h2>
<p>U-Logic предоставляет специальный интерфейс для просмотра и управления всеми переменными U-Logic. Перейдите на вкладку «контекст» боковой панели, где вы найдете разделы для узловых, потоковых и глобальных переменных. В каждом разделе есть значок обновления в правом верхнем углу; щелкните по нему, чтобы увидеть последние или недавно добавленные переменные.</p>
<p>На этой вкладке вы также найдете информацию о том, когда каждая переменная была установлена ​​или обновлена, а также дополнительные опции справа от каждой переменной. Первая опция позволяет вам скопировать имя переменной, вторая опция позволяет вам скопировать значение переменной, третья опция обновляет переменную, чтобы показать самое последнее значение, а четвертая опция позволяет вам удалить переменную.</p>
</section>
<section id="id18">
<h2>Заключение<a class="headerlink" href="#id18" title="Ссылка на этот заголовок"></a></h2>
<p>В этом всеобъемлющем руководстве мы изучили основные концепции переменных U-Logic, включая переменные узла, потока, глобальные переменные и переменные окружения. Мы узнали, как эффективно инициировать, извлекать и управлять этими переменными, используя как узлы function, так и узлы change.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Авторские права 2025, uvatron.ru. </p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>